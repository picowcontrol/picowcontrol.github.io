<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="header-container">
            <div class="main-header">
                <div class="launcher-icon-box">
                    <img id="launcherIcon" src="images/svg/launcher_icon.svg" alt="launcher-icon">
                </div>
                <div class="script-dropdown-box">
                    <select id="scriptDropdown">
                        <option value="0">Select Script</option>
                        <!-- placeholder names -->
                        <option value="1">Script 1</option>
                        <option value="2">Script 2</option>
                        <option value="3">Script 3</option>
                        <option value="4">Script 4</option>
                        <option value="5">Script 5</option>
                    </select>
                </div>
                <div id="colorSizeStatus" title="this color changes based of screen size (debug only)"></div>
            </div>
            <div class="ribbon">
                <div class="ribbon-actions">
                    <ul>
                        <li id="controlBtn">Control</li>
                        <li id="joystickBtn">Joystick</li>
                        <li id="recordedBtn">Recorded</li>
                        <li id="drawingBtn">Drawing</li>
                        <li id="moreBtn">...</li>
                    </ul>
                </div>
                <div class="toggle-header-box">
                    <img id="toggleHeaderIcon" src="images/svg/expand_icon.svg" alt="toggle-header-icon">
                </div>
            </div>
        </div>
        <div class="alert">
            <div class="alert-icon-box">
                <img id="alertIcon" src="images/svg/alert_icon.svg" alt="alert-icon">
            </div>
            <div class="alert-message-box">
                <p id="alertMessage">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Minus odio voluptatum doloremque dolore dolor repellat molestiae temporibus velit quod ipsam, commodi a dolorum delectus architecto quis fugit iure reiciendis accusamus!
                </p>
            </div>
            <div class="expandErrorMessage" title="Expand error message">
                <img id="expandErrorMessageIcon" src="images/svg/expand_icon.svg" alt="expand-error-message" style="filter: invert(100%);">
            </div>
            <div class="alert-close-box">
                <img id="alertCloseIcon" src="images/svg/x_icon.svg" alt="alert-close-icon">
            </div>
        </div>
    </header>
    <div class="container">
        <div class="content">
            <p>Hello</p>
        </div>
    </div>

    <script>
        // 0: truncated, 1: expanded, 2: hidden
        let alertMessageBoxToggleState = 0;

        function toggleAlertMessageBoxState() {
            console.log(alertMessageBoxToggleState);
            const alertMessage = document.getElementById("alertMessage");
            const alertMessageBox = document.querySelector(".alert-message-box");
            const expandErrorMessageIcon = document.getElementById("expandErrorMessageIcon");
            const alert = document.querySelector(".alert");
            switch (alertMessageBoxToggleState) {
                case 0:
                    // truncated
                    alertMessage.style.display = "-webkit-box";
                    alertMessage.style.webkitBoxOrient = "vertical";
                    alertMessage.style.overflow = "hidden";
                    alertMessage.style.textOverflow = "ellipsis";
                    alertMessage.style.whiteSpace = "normal";
                    alertMessage.style.webkitLineClamp = "1";
                    alertMessage.style.visibility = "visible";

                    expandErrorMessageIcon.style.transform = "rotate(0deg)";
                    alertMessageBox.style.display = "block";
                    alert.style.width = "50%";
                    break;
                case 1:
                    // expanded
                    alertMessage.style.display = "block";
                    alertMessage.style.webkitBoxOrient = "unset";
                    alertMessage.style.overflow = "visible";
                    alertMessage.style.textOverflow = "unset";
                    alertMessage.style.whiteSpace = "normal";
                    alertMessage.style.webkitLineClamp = "unset";
                    alertMessage.style.visibility = "visible";

                    expandErrorMessageIcon.style.transform = "rotate(180deg)";
                    alert.style.width = "50%";
                    break;
                case 2:
                    // hidden
                    alertMessageBox.style.display = "none";

                    expandErrorMessageIcon.style.transform = "rotate(90deg)";
                    alert.style.width = "auto";
                    break;
            }
        }

        document.addEventListener("DOMContentLoaded", () => {
            toggleAlertMessageBoxState();

            expandErrorMessageIcon.addEventListener("click", () => {
                alertMessageBoxToggleState = (alertMessageBoxToggleState + 1) % 3;
                toggleAlertMessageBoxState();
            });
        })
    </script>
</body>
</html>